<html>
<head>
  <title>Bot Joust</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <style type="text/css">
  .start { text-align: center; }
  .start button { font-size: 2em; }
  .win-count {
    font-size: 5em;
    font-family: Futura;
  }
  .win-count.winning { color: green; }
  </style>
</head>
<body>

<div id="game"></div>

<script type="text/javascript" src="vendor/mithril.js"></script>
<script type="text/javascript" src="lib/bot-registry.js"></script>
<script type="text/javascript" src="lib/game.js"></script>
<script type="text/javascript" src="lib/multi-game-stats-view.js"></script>

<!-- Include your and your opponents' bots here: -->
<script type="text/javascript" src="sample-bot-1.js"></script>
<script type="text/javascript" src="sample-bot-2.js"></script>
<script type="text/javascript" src="alex.js"></script>
<script type="text/javascript" src="charles.js"></script>
<script type="text/javascript" src="christina.js"></script>
<script type="text/javascript" src="greg-m.js"></script>
<script type="text/javascript" src="jason.js"></script>
<script type="text/javascript" src="patrick.js"></script>
<!-- ^^^^^^^^^^^^^^^^^^ -->

<script type="text/javascript">
(function () {
  var gameCount = 0

  // Include your and your opponent's bot names here.
  // NOTE: Only the first two bot names in this array will joust.
  var botNames = [
    "dummy-bot",
    "reckless-bot"
  ]

  var bot1 = BotRegistry.get(botNames[0])
  var bot2 = BotRegistry.get(botNames[1])

  // Play multiple games
  var winCount = { p1: 0, p2: 0, tie: 0 }


  var timeStart = Date.now()

  MultiGameStats.playMatch = function () {
    var game = BotJoust.playGame(bot1, bot2)
    if (!game.winner) {
      winCount.tie += 1
    }
    else {
      winCount[game.winner.name] += 1
    }
    gameCount += 1
    if (gameCount < 5000) {
      timeout = setTimeout(MultiGameStats.playMatch, 0)
    }
    else {
      MultiGameStats.vm.matchIsOver(true)
    }
    m.redraw()
  }

  // Reference the last game just for
  MultiGameStats.vm.bots.p1 = bot1
  MultiGameStats.vm.bots.p2 = bot2
  MultiGameStats.vm.winCounts(winCount)

  m.module(document.getElementById('game'), MultiGameStats)
})()
</script>

</body>
</html>
